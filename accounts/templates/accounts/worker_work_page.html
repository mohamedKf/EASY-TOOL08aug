<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Work Measurements</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'accounts/style.css' %}">
</head>
<body>

{% include 'accounts/worker_navbar.html' %}

<div class="container">
    <h2>Your Aluminum Work</h2>

    <form method="get" class="project-select-form">
        <label for="project_id">Select Project:</label>
        <select name="project_id" id="project_id" required>
            <option value="">-- Select --</option>
            {% for p in projects %}
                <option value="{{ p.id }}" {% if selected_project and p.id == selected_project.id %}selected{% endif %}>
                    {{ p.project_number }} - {{ p.address }}
                </option>
            {% endfor %}
        </select>
        <button type="submit">View</button>
    </form>

    {% if aluminum_data %}
        <h3>Frame Materials</h3>
        <table class="data-table">
            <thead>
                <tr>
                    <th>Window #</th>
                    <th>Top Frame (cm)</th>
                    <th>Bottom Frame (cm)</th>
                    <th>Side Frame (cm)</th>
                </tr>
            </thead>
            <tbody>
                {% for f in aluminum_data.frame_data %}
                <tr>
                    <td>{{ f.window_number }}</td>
                    <td>{{ f.top }}</td>
                    <td>{{ f.bottom }}</td>
                    <td>{{ f.side }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <h3>Sash Materials</h3>
        <table class="data-table">
            <thead>
                <tr>
                    <th>Window #</th>
                    <th>Sash #</th>
                    <th>Top</th>
                    <th>Bottom</th>
                    <th>Handle Side (צד)</th>
                    <th>Side (שולב)</th>
                </tr>
            </thead>
            <tbody>
                {% for s in aluminum_data.sash_data %}
                <tr>
                    <td>{{ s.window_number }}</td>
                    <td>{{ s.sash_number }}</td>
                    <td>{{ s.top }}</td>
                    <td>{{ s.bottom }}</td>
                    <td>{{ s.handle_side }}</td>
                    <td>{{ s.side }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}
</div>

</body>
</html>
